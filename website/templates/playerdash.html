{% extends "base.html" %} {% block title %}Home{% endblock %} 
{% block content%} 

<!-- <div class="wrapper">
  PLAYER DASHHHHHHHHHHHHH

{% if current_user.Role == 'Coach' %}
  <a href="/coach_dashboard">Coach Dashboard</a>
  COOOOACH

  
{% elif current_user.Role == 'Player' %}
PLAYEEER
  <a href="/player_stats">Player Statistics</a>
{% endif %} -->


<!-- Here we use Jinja to get access to the current logged in users object -->

<body style="background-image: none;">

<div class="container mt-4">
  <div class="row">
    <div class="col-lg-4 mb-4">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Profile Details</h5>

          <h6>You are logged in as:</h6> {{ current_user.Username }} </br>
          <h6>Your Email Address is:</h6> {{ current_user.Email }} </br>
          <h6>Your Forename is:</h6> {{ current_user.Forename }} </br>
          <h6>Your Surname is:</h6> {{ current_user.Surname }} </br>
          <h6>You Role is:</h6> {{ current_user.Role }} </br>
        </div>
      </div>
    </div>
    <div class="col-lg-4 mb-4">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Player ratings for: {{ current_user.Forename }}</h5>
          {{categories}}
          {{ratings}}
          <div>
            <canvas id="userRatingsChart"></canvas>
          </div>
          
            <table id="example" class="table table-striped" style="width:100%">
                <tr>
                    <th>Category</th>
                    <th>Value</th>
                </tr>
                {% for rating, category in ratings_query %}
                    <tr>
                        <td>{{ category.CategoryDescription }}</td>
                        <td>{{ rating.Value }}</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
      </div>
    </div>
    <div class="col-lg-4 mb-4">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Panel 3</h5>
          <p class="card-text">Content for Panel 3 goes here.</p>
        </div>
      </div>
    </div>
  </div>
</div>




<script>
  var ctx = document.getElementById('userRatingsChart').getContext('2d');
  var myChart = new Chart(ctx, {
      type: 'line', // Change to 'line', 'pie', etc., as needed
      data: {
          labels: {{ categories | tojson | safe }},
          datasets: [{
              label: 'User Ratings',
              data: {{ ratings | tojson | safe }},
              backgroundColor: [
                  'rgba(255, 99, 132, 0.2)',
                  'rgba(54, 162, 235, 0.2)',
                  'rgba(255, 206, 86, 0.2)',
                  // Add more colors as needed
              ],
              borderColor: [
                  'rgba(255, 99, 132, 1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(255, 206, 86, 1)',
                  // Add more colors as needed
              ],
              borderWidth: 1
          }]
      },
      options: {
          scales: {
              y: {
                  beginAtZero: true
              }
          }
      }
  });
</script>







{% endblock %}
