{% extends "base.html" %} {% block title %}Sign Up{% endblock %} {% block
    content %}
    
    <body style="background-image: none;">

    <h1>Create An Event</h1>
    <form id="eventForm" action="{{ url_for('coach.create_event_and_matches') }}" method="POST">
        {{ event_form.csrf_token }}

        <!-- TennisEvent details -->
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" required><br><br>

        <label for="home_venue">Home School:</label>
        <select id="home_venue" name="home_venue" required>
            {% for school in schools %}
            <option value="{{ school.id }}">{{ school.name }}</option>
            {% endfor %}
        </select><br><br>

        <label for="away_venue">Away School:</label>
        <select id="away_venue" name="away_venue" required>
            {% for school in schools %}
            <option value="{{ school.id }}">{{ school.name }}</option>
            {% endfor %}
        </select><br><br>

        <h1>Create A Match</h1>

        <!-- Match fields -->
        <div id="match-fields">

            <div class="match">
                <!-- Dropdown list for Player 1 -->
                <label for="player1_name">Player 1:</label>
                <select id="player1_name" name="player1_name">
                    {% for user_id, user_name in match_form.player1_name.choices %}
                    <option value="{{ user_id }}">{{ user_name }}</option>
                    {% endfor %}
                </select>
                
                <!-- Dropdown list for Player 2 -->
                <label for="player2_name">Player 2:</label>
                <select id="player2_name" name="player2_name">
                    {% for user_id, user_name in match_form.player2_name.choices %}
                    <option value="{{ user_id }}">{{ user_name }}</option>
                    {% endfor %}
                </select>

                <!-- Other match fields -->
            </div><br>


                <label for="singles_or_doubles">Singles or Doubles:</label>
                <select id="singles_or_doubles" name="singles_or_doubles" required>
                    <option value="Singles">Singles</option>
                    <option value="Doubles">Doubles</option>
                </select><br><br>

                <label for="sets_played">Sets Played:</label>
                <input type="number" id="sets_played" name="sets_played" min="1" required><br><br>

                <label for="sets_won">Sets Won:</label>
                <input type="number" id="sets_won" name="sets_won" min="0" required><br><br>

                <label for="won_or_lost">Won or Lost:</label>
                <select id="won_or_lost" name="won_or_lost" required>
                    <option value="Won">won</option>
                    <option value="Lost">Lost</option>
                </select><br><br>

                <label for="comment">Comment:</label>
                <textarea id="comment" name="comment"></textarea><br><br>

            </div>

        </div>

        <button type="button" onclick="addMatch()">Add Match</button>
        <button type="submit">Submit</button>
    </form>

        <script>
            var matchCounter = 1;
        
            function addMatch() {
                var container = document.getElementById("match-fields");
                var matchDiv = document.createElement("div");
                matchDiv.innerHTML = `
                    <div class="match">
                        <!-- Dropdown list for Player 1 -->
                        <label for="player1_name_${matchCounter}">Player 1:</label>
                        <select id="player1_name_${matchCounter}" name="player1_name_${matchCounter}">
                            {% for user_id, user_name in match_form.player1_name.choices %}
                            <option value="{{ user_id }}">{{ user_name }}</option>
                            {% endfor %}
                        </select>
                        
                        <!-- Dropdown list for Player 2 -->
                        <label for="player2_name_${matchCounter}">Player 2:</label>
                        <select id="player2_name_${matchCounter}" name="player2_name_${matchCounter}">
                            {% for user_id, user_name in match_form.player2_name.choices %}
                            <option value="{{ user_id }}">{{ user_name }}</option>
                            {% endfor %}
                        </select>
        
                        <!-- Other match fields -->
                        <label for="singles_or_doubles_${matchCounter}">Singles or Doubles:</label>
                        <select id="singles_or_doubles_${matchCounter}" name="singles_or_doubles_${matchCounter}" required>
                            <option value="Singles">Singles</option>
                            <option value="Doubles">Doubles</option>
                        </select><br><br>
        
                        <label for="sets_played_${matchCounter}">Sets Played:</label>
                        <input type="number" id="sets_played_${matchCounter}" name="sets_played_${matchCounter}" min="1" required><br><br>
        
                        <label for="sets_won_${matchCounter}">Sets Won:</label>
                        <input type="number" id="sets_won_${matchCounter}" name="sets_won_${matchCounter}" min="0" required><br><br>
        
                        <label for="won_or_lost_${matchCounter}">Won or Lost:</label>
                        <select id="won_or_lost_${matchCounter}" name="won_or_lost_${matchCounter}" required>
                            <option value="Won">won</option>
                            <option value="Lost">Lost</option>
                        </select><br><br>
        
                        <label for="comment_${matchCounter}">Comment:</label>
                        <textarea id="comment_${matchCounter}" name="comment_${matchCounter}"></textarea><br><br>
                    </div><br>
                `;
                container.appendChild(matchDiv);
                matchCounter++;
            }
        </script>
        
        



{% endblock %}